# SMART on FHIR 工作坊 的第二段 動手實作 筆記

[耀瑄科技 新創小組]

---

# 從零開始理解 SMART on FHIR

## 工研院 × 衛福部 SMART on FHIR 動手實作工作坊重點整理與實務解讀

在台灣醫療資訊環境中，「FHIR」與「SMART on FHIR」幾乎已成為未來十年不可迴避的關鍵字。然而，多數醫院與廠商真正遇到的問題並不是「不知道它是什麼」，而是：

> **知道名詞，卻不知道怎麼開始動手做。**

這也是工研院在衛福部委託下，舉辦本次 **SMART on FHIR 動手實作工作坊** 的核心目的：
👉 **讓參與者實際跑過一次「從 App 設定 → Launch → 資料存取」的完整流程。**

本文將以「一個開發者第一次實作 SMART on FHIR」的視角，帶你完整理解這場工作坊在做什麼、為什麼這樣設計，以及這套流程在台灣醫療場域中的真正意義。

---

## 一、為什麼要用 SMART on FHIR，而不是「自己寫 API」？

在錄音前段，講師其實反覆提到一個關鍵概念，但並沒有明說得很白：

> **SMART on FHIR 的本質，是一套「標準化啟動與授權機制」。**

### 傳統醫院系統的困境

過去在 HIS / EMR 環境中，如果你要做一個新功能或新 App，通常意味著：

* 每一家醫院 **一套 API**
* 每一家醫院 **一套帳號與權限**
* 每一個系統 **重新串接、重新測試**

結果就是：

* 開發成本高
* 維護成本更高
* 幾乎不可能做到「跨院重用」

### SMART on FHIR 解決的是什麼？

SMART on FHIR 不是要取代 HIS，而是**站在 HIS 上面，定義一套「App 如何被啟動、如何拿到病人、如何存取資料」的共同語言**。

這也是為什麼在工作坊中，你會看到講師不斷強調：

* Launch（啟動）
* Scope（授權範圍）
* App 註冊
* Marketplace / Gallery

---

## 二、從 Marketplace 到 App：SMART on FHIR 的「上架思維」

工作坊中有一段在介紹類似「Marketplace / Gallery」的概念，這對很多台灣開發者來說其實是陌生的。

### 為什麼要有 Marketplace？

因為 **SMART on FHIR 的世界觀，本來就不是「每個 App 都寫在 HIS 裡」**。

而是：

* HIS / EHR 提供標準平台
* App 像「外掛」一樣被啟動

這樣的設計，會帶來三個關鍵改變：

1. **App 可以跨院使用**
2. **醫院可以選擇要不要啟用**
3. **評審、主管能清楚看到 App 已經「可運作」**

這也是講師在錄音中提到：

> 「只要有資訊、有畫面，就能讓評審知道你不是紙上談兵」

---

## 三、實作重點一：Fork 專案與環境設定

在實作階段，第一個動作不是寫程式，而是：

> **Fork 範例專案，並設定自己的執行環境**

這件事背後的意義是：

* 你不是從零開始
* 而是站在「標準範例」之上

### 為什麼這很重要？

在 SMART on FHIR 世界裡，「規範正確」往往比「程式寫得漂亮」更重要。

只要你的 App：

* 啟動流程正確
* Scope 宣告正確
* 回傳頁面正常

那它就已經是「合格的 SMART App」。

---

## 四、實作重點二：Scope 與 Resource 權限的真實含義

錄音中有一段在操作 Create / Update / Search 等權限設定，這裡其實是 **SMART on FHIR 最核心、也最容易誤解的地方**。

### Scope 不是技術問題，而是治理問題

例如：

* `patient/Observation.read`
* `patient/Encounter.read`
* `patient/Observation.write`

這些 Scope 代表的不是「你會不會寫 API」，而是：

> **醫院是否願意讓你的 App 做這些事**

也因此，在台灣實務上：

* 多數醫院一開始只開 `read`
* `write` 通常需要專案審查與 IRB / 資安評估

工作坊透過實作方式，讓大家直接看到：

> 「只要 Scope 不對，App 就什麼都做不了」

---

## 五、Launch Flow：EHR Launch 為什麼這麼重要？

在後段實作中，講師引導大家設定 Launch URL，並實際進行啟動。

這裡對初學者來說，最重要的理解是：

### SMART App 並不是自己決定「要看誰」

而是由 EHR 在啟動時告訴你：

* 現在是誰在用（Practitioner）
* 現在是哪個病人（Patient）
* 你被允許看哪些資料

這也是為什麼你會看到：

* launch parameter
* context（PID）
* token 交換流程

> **病人不是你查來的，是「被帶進來的」**

這一點，對資安與責任歸屬至關重要。

---

## 六、Observation 為什麼是示範主角？

在實作中，講師多次以 **Observation** 作為示範 Resource，這並不是偶然。

原因很簡單：

* 檢驗
* 生理量測
* AI 推論結果
* 評分量表

👉 **幾乎都可以用 Observation 表示**

這也是為什麼你後來看到：

* Create Observation
* Update Observation
* Search Observation

對台灣醫院來說，這意味著：

> 很多「新應用」其實不用動到核心病歷，只要寫回 Observation 就好。

---

## 七、從工作坊看出台灣 SMART on FHIR 的現實路線

綜合整場工作坊，可以清楚看出一條「非常台灣式、但務實可行」的導入路線：

1. **不強迫一次全院 FHIR 化**
2. **先做能展示價值的 App**
3. **用 Observation / Encounter 等低風險資源起步**
4. **用 SMART on FHIR 解決「啟動與整合」問題**

這也正是為什麼工研院與衛福部選擇用「實作工作坊」而非單純課程。

---

## 結語：SMART on FHIR 不是未來，是正在發生的現在

這場工作坊最重要的價值，不在於「你今天學會了幾個設定步驟」，而在於：

> **你親眼看到，一個醫療 App 是如何在標準框架下被啟動、被授權、被信任。**

對醫院來說，這是一條：

* 降低整合成本
* 提升創新速度
* 保留治理與資安控制權

對廠商與新創小組來說，這是一條：

* 可複製
* 可擴散
* 可規模化的路

而這，正是 SMART on FHIR 在台灣真正開始發揮力量的時刻。




